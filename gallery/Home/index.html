<!DOCTYPE html>
<html lang="en"></html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Home Gallery</title>
 
  <!-- this sets all the styles -->
 <link rel="stylesheet" href="/style.css" />
  <!-- Lightbox2 CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" />
 
 <!-- this link allows icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
</head>
<body>
  <div id="nav-placeholder"></div>

  <div id="gallery"></div>
  <!-- Video Modal for pop-out viewing -->
  <div id="videoModal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeVideoModal()">&times;</button>
      <iframe id="modalVideo" src="" allow="autoplay" allowfullscreen></iframe>
    </div>
  </div>

  <script>
    const gallery = document.getElementById('gallery');
    const maxPhotos = 100; // set a high maximum
    const folder = './';
    let foundMissing = false;
    (function loadPhotos() {
      let i = 1;
      function tryNext() {
        if (i > maxPhotos || foundMissing) return;
        let filename = i === 1 ? 'photo.JPG' : `photo (${i}).JPG`;
        let img = new Image();
        img.onload = function() {
          let a = document.createElement('a');
          a.href = folder + filename;
          a.setAttribute('data-lightbox', 'gallery');
          a.setAttribute('data-title', `Photo ${i}`);
          img.alt = `Photo ${i}`;
          a.appendChild(img);
          gallery.appendChild(a);
          i++;
          tryNext();
        };
        img.onerror = function() {
          foundMissing = true;
        };
        img.src = folder + filename;
      }
      tryNext();
    })();
  </script>

  <script>
    // --- Google Drive Videos Section ---
    const videoIds = [
     // '1wVzoLGK_uKmeLYUkr8c2qKriKqlpIzAo',
    ];
    videoIds.forEach((id, idx) => {
      const div = document.createElement('div');
      div.className = 'gallery-iframe-container';
      div.innerHTML = `<iframe src="https://drive.google.com/file/d/${id}/preview" width="320" height="180" allow="autoplay" allowfullscreen title="Video ${idx + 1}"></iframe>`;
      div.style.cursor = 'pointer';
      div.onclick = function() { openVideoModal(id); };
      gallery.appendChild(div);
    });

    // Modal logic
    function openVideoModal(id) {
      const modal = document.getElementById('videoModal');
      const iframe = document.getElementById('modalVideo');
      iframe.src = `https://drive.google.com/file/d/${id}/preview`;
      modal.classList.add('active');
    }
    function closeVideoModal() {
      const modal = document.getElementById('videoModal');
      const iframe = document.getElementById('modalVideo');
      iframe.src = '';
      modal.classList.remove('active');
    }
    // Close modal on outside click
    document.getElementById('videoModal').addEventListener('click', function(e) {
      if (e.target === this) closeVideoModal();
    });
  </script>

  <script>
    function toggleMenu() {
      document.getElementById('navLinks').classList.toggle('open');
    }
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox-plus-jquery.min.js"></script>
  <script>
    lightbox.option({
      'resizeDuration': 200,
      'wrapAround': true
    })
  </script>

  <script>
    // Load nav and footer templates dynamically
    function loadTemplate(id, url) {
      fetch(url)
        .then(res => res.text())
        .then(html => { document.getElementById(id).innerHTML = html; });
    }
    loadTemplate('nav-placeholder', '/nav-template.html');
    loadTemplate('footer-placeholder', '/footer-template.html');
  </script>
</body>
</html>
